<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>아코디언 메뉴</title>
    <style>
        .frame .content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
        }

        .frame.active .content {
            max-height: 1000px; /* 내용에 따라 조정 가능 */
        }

        .heading {
            cursor: pointer;
            padding: 10px;
            border: 1px solid #ddd;
        }

        .p-2 {
            padding: 10px;
        }
    </style>
</head>
<body>

<div data-role="accordion"
     data-one-frame="false"
     data-show-active="true"
     data-on-frame-open="console.log('frame was opened!', arguments[0])"
     data-on-frame-close="console.log('frame was closed!', arguments[0])">
    <div class="frame">
        <div class="heading">Header 1</div>
        <div class="content">
            <div class="p-2">Cur luba manducare? Pol, a bene ionicis tormento...</div>
        </div>
    </div>
    <div class="frame active">
        <div class="heading">Header 2</div>
        <div class="content">
            <div class="p-2">Wildly open a starship. Belay, ye small wench- set...</div>
        </div>
    </div>
    <div class="frame">
        <div class="heading">Header 3</div>
        <div class="content">
            <div class="p-2">Bitter turkey can be made tasty by brushing with...</div>
        </div>
    </div>
</div>

<script>
    document.querySelectorAll('.accordion .heading').forEach(heading => {
        heading.addEventListener('click', function() {
            const frame = this.parentElement;
            const accordion = frame.parentElement;
            const isOneFrame = accordion.getAttribute('data-one-frame') === 'true';

            if (isOneFrame) {
                accordion.querySelectorAll('.frame').forEach(f => {
                    if (f !== frame) {
                        f.classList.remove('active');
                        f.querySelector('.content').style.maxHeight = 0;
                    }
                });
            }

            frame.classList.toggle('active');
            const content = this.nextElementSibling;
            if (frame.classList.contains('active')) {
                content.style.maxHeight = content.scrollHeight + 'px';
                console.log('frame was opened!', frame);
            } else {
                content.style.maxHeight = 0;
                console.log('frame was closed!', frame);
            }
        });
    });
</script>

</body>
</html>
